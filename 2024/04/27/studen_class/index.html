<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Peiwen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import random #成绩随机生成class Class:    &amp;quo">
<meta property="og:type" content="article">
<meta property="og:title" content="Peiwen&#39;s Blog">
<meta property="og:url" content="http://peven-shyu.github.io/2024/04/27/studen_class/index.html">
<meta property="og:site_name" content="Peiwen&#39;s Blog">
<meta property="og:description" content="123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import random #成绩随机生成class Class:    &amp;quo">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-04-27T07:34:24.591Z">
<meta property="article:modified_time" content="2024-04-27T07:43:23.669Z">
<meta property="article:author" content="Peiwen">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Peiwen's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Peiwen&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://peven-shyu.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-studen_class" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/04/27/studen_class/" class="article-date">
  <time class="dt-published" datetime="2024-04-27T07:34:24.591Z" itemprop="datePublished">2024-04-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="comment">#成绩随机生成</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Class</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    模拟班级</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    属性：</span></span><br><span class="line"><span class="string">        name: 班级名称</span></span><br><span class="line"><span class="string">        students: 学生列表</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    方法：</span></span><br><span class="line"><span class="string">        add_student(): 添加学生</span></span><br><span class="line"><span class="string">        recommend_students(): 推荐免试研究生</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        初始化班级信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        参数：</span></span><br><span class="line"><span class="string">            name: 班级名称</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.students = []</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="comment">#学生注册时添加到其所在行政班级</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_student</span>(<span class="params">self, student</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        **该方法直接添加对象到列表，学生*注册时添加行政班级**</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        参数：</span></span><br><span class="line"><span class="string">            student: 学生对象</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.students.append(student)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">view_students</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        查看班级的学生列表（学生名字，学生学号）</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> student <span class="keyword">in</span> self.students:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生姓名：<span class="subst">&#123;student.name&#125;</span>，学生学号：<span class="subst">&#123;student.student_id&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">recommend_students</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        查看推免名单，也可以单独对学生查看是否推免，学校可以拓展查看推免的方法</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        返回值：</span></span><br><span class="line"><span class="string">            推免名单</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 计算所有学生的推免GPA</span></span><br><span class="line">        <span class="keyword">for</span> student <span class="keyword">in</span> self.students:</span><br><span class="line">            student.calculate_gpa()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 按推免GPA排名</span></span><br><span class="line">        sorted_students = <span class="built_in">sorted</span>(self.students, key=<span class="keyword">lambda</span> student: student.gpa_junior_year, reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 推荐前50%的学生</span></span><br><span class="line">        top_n = <span class="built_in">int</span>(<span class="built_in">len</span>(self.students) * <span class="number">0.5</span>)</span><br><span class="line">        recommended_students = sorted_students[:top_n]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 打印推荐结果</span></span><br><span class="line">        <span class="keyword">for</span> student <span class="keyword">in</span> recommended_students:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;student.name&#125;</span> 绩点为 <span class="subst">&#123;student.gpa_junior_year:<span class="number">.2</span>f&#125;</span>，推荐免试攻读硕士研究生！&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#return recommended_students</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">University</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    承载学校的类，这里简单定义</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.classes = &#123;&#125;  <span class="comment"># 存储各个班级</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_class</span>(<span class="params">self, class_name</span>):</span><br><span class="line">        <span class="keyword">if</span> class_name <span class="keyword">not</span> <span class="keyword">in</span> self.classes:</span><br><span class="line">            self.classes[class_name] = Class(class_name)</span><br><span class="line"><span class="comment"># 创建学校</span></span><br><span class="line">university = University()        </span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建班级</span></span><br><span class="line"><span class="keyword">for</span> class_name <span class="keyword">in</span> [<span class="string">&quot;计算机科学&quot;</span>, <span class="string">&quot;软件工程&quot;</span>, <span class="string">&quot;数学&quot;</span>]:</span><br><span class="line">    university.add_class(class_name)</span><br><span class="line"><span class="keyword">for</span> class_name <span class="keyword">in</span> [<span class="string">&quot;计算机科学&quot;</span>, <span class="string">&quot;软件工程&quot;</span>, <span class="string">&quot;数学&quot;</span>]:</span><br><span class="line">    university.classes[class_name] = Class(class_name)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    模拟大学生的类</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    属性：</span></span><br><span class="line"><span class="string">        name: 学生姓名</span></span><br><span class="line"><span class="string">        student_id: 学号</span></span><br><span class="line"><span class="string">        class_name: 班级</span></span><br><span class="line"><span class="string">        gpa: 绩点</span></span><br><span class="line"><span class="string">        scores: 每学年的成绩</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    方法：</span></span><br><span class="line"><span class="string">        register(): 注册</span></span><br><span class="line"><span class="string">        take_exam(): 参加考试</span></span><br><span class="line"><span class="string">        calculate_gpa(): 计算绩点</span></span><br><span class="line"><span class="string">        check_graduation(): 检查是否满足毕业条件</span></span><br><span class="line"><span class="string">        recommend(): 推荐免试研究生</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, student_id, class_name</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        初始化学生信息</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        参数：</span></span><br><span class="line"><span class="string">            name: 学生姓名</span></span><br><span class="line"><span class="string">            student_id: 学号</span></span><br><span class="line"><span class="string">            class_name: 班级</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.student_id = student_id</span><br><span class="line">        self.class_name = class_name</span><br><span class="line">        self.gpa_junior_year = <span class="number">0.0</span>  <span class="comment"># 初始化大三结束绩点</span></span><br><span class="line">        self.gpa_over_all = <span class="number">0.0</span>  <span class="comment"># 初始化毕业绩点</span></span><br><span class="line">        self.score = &#123;<span class="number">1</span>:[], <span class="number">2</span>:[], <span class="number">3</span>:[], <span class="number">4</span>:[]&#125;  <span class="comment"># 存储每学年的成绩</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">register</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        学生注册</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># 检查班级是否存在</span></span><br><span class="line">        <span class="keyword">if</span> self.class_name <span class="keyword">not</span> <span class="keyword">in</span> university.classes:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;班级 <span class="subst">&#123;self.class_name&#125;</span> 不存在，无法注册！&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment">#班级存在则将学生注册并添加到班级</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 已注册，学号：<span class="subst">&#123;self.student_id&#125;</span>, 班级：<span class="subst">&#123;self.class_name&#125;</span>&quot;</span>)</span><br><span class="line">        university.classes[self.class_name].add_student(self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">take_exam</span>(<span class="params">self, year, exam_name, exam_score</span>):</span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">            学生参加考试</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            :param year: 考试年份 -- 1, 2, 3, 4</span></span><br><span class="line"><span class="string">            :param exam_name: 考试名称 -- 课程名称</span></span><br><span class="line"><span class="string">            :param exam_score: 考试成绩 --课程成绩</span></span><br><span class="line"><span class="string">            &quot;&quot;&quot;</span></span><br><span class="line">            <span class="keyword">if</span> year <span class="keyword">not</span> <span class="keyword">in</span> self.score:</span><br><span class="line">                self.score[year] = []</span><br><span class="line">            self.score[year].append([exam_name, exam_score])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate_gpa</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        计算学生的GPA</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        GPA是所有年份所有考试成绩的平均值。</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        total_score = <span class="number">0</span></span><br><span class="line">        total_exams = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> year, exams <span class="keyword">in</span> self.score.items():</span><br><span class="line">            <span class="keyword">for</span> exam <span class="keyword">in</span> exams:</span><br><span class="line">                total_score += exam[<span class="number">1</span>]</span><br><span class="line">                total_exams += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_exams &gt; <span class="number">0</span>:</span><br><span class="line">            self.gpa_over_all = total_score / total_exams</span><br><span class="line">    </span><br><span class="line">        total_score_junior = <span class="number">0</span></span><br><span class="line">        total_exams_junior = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> year <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">            <span class="keyword">if</span> year <span class="keyword">in</span> self.score:</span><br><span class="line">                <span class="keyword">for</span> exam <span class="keyword">in</span> self.score[year]:</span><br><span class="line">                    total_score_junior += exam[<span class="number">1</span>]</span><br><span class="line">                    total_exams_junior += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_exams_junior &gt; <span class="number">0</span>:</span><br><span class="line">            self.gpa_junior_year = total_score / total_exams</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">check_graduation</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        检查是否满足毕业条件: 毕业绩点(也即总绩点)不低于2.2, 参与课程数量不少于8</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment">#计算参与考试(课程)的总次数</span></span><br><span class="line">        total_exam_num = (<span class="built_in">len</span>(self.score[<span class="number">4</span>])+<span class="built_in">len</span>(self.score[<span class="number">1</span>])+<span class="built_in">len</span>(self.score[<span class="number">2</span>])+<span class="built_in">len</span>(self.score[<span class="number">3</span>]))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.gpa_over_all &gt;= <span class="number">2.2</span> <span class="keyword">and</span> total_exam_num &gt;= <span class="number">8</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 已满足毕业要求。\n\</span></span><br><span class="line"><span class="string">GPA：<span class="subst">&#123;self.gpa_over_all:<span class="number">.2</span>f&#125;</span>,应不低于2.2\n\</span></span><br><span class="line"><span class="string">考试次数(参与课程数量)：<span class="subst">&#123;total_exam_num&#125;</span>，应不小于8。&quot;</span>)</span><br><span class="line">            <span class="comment">#return True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 未达到毕业要求。\n\</span></span><br><span class="line"><span class="string">GPA：<span class="subst">&#123;self.gpa_over_all:<span class="number">.2</span>f&#125;</span>,应不低于2.2\n\</span></span><br><span class="line"><span class="string">考试次数(参与课程数量)：<span class="subst">&#123;total_exam_num&#125;</span>，应不小于8。&quot;</span>)</span><br><span class="line">            <span class="comment">#return False</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">recommend</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        根据班级排名推荐免试研究生</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        **注意：** 该方法假设所有学生都已注册班级。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取学生所在班级</span></span><br><span class="line">        class_name = self.class_name</span><br><span class="line">        <span class="keyword">if</span> class_name <span class="keyword">not</span> <span class="keyword">in</span> university.classes:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 未注册班级，无法推荐免试！&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 计算班级所有学生的GPA</span></span><br><span class="line">        class_students = university.classes[class_name].students</span><br><span class="line">        <span class="keyword">for</span> student <span class="keyword">in</span> class_students:</span><br><span class="line">            student.calculate_gpa()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 按推免GPA排名</span></span><br><span class="line">        sorted_students = <span class="built_in">sorted</span>(class_students, key=<span class="keyword">lambda</span> student: student.gpa_junior_year, reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取当前学生的排名</span></span><br><span class="line">        student_rank = sorted_students.index(self)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断当前学生是否在班级前50%</span></span><br><span class="line">        <span class="keyword">if</span> student_rank &lt; <span class="built_in">int</span>(<span class="built_in">len</span>(class_students) * <span class="number">0.5</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 现阶段绩点为 <span class="subst">&#123;self.gpa_junior_year:<span class="number">.2</span>f&#125;</span>，班级<span class="subst">&#123;self.class_name&#125;</span>，排名 <span class="subst">&#123;student_rank+<span class="number">1</span>&#125;</span>，推荐免试攻读硕士研究生！&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 现阶段绩点为 <span class="subst">&#123;self.gpa_junior_year:<span class="number">.2</span>f&#125;</span>，班级为<span class="subst">&#123;self.class_name&#125;</span>，排名 <span class="subst">&#123;student_rank+<span class="number">1</span>&#125;</span>，未获取推免资格。&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="新增方法"><a href="#新增方法" class="headerlink" title="新增方法"></a>新增方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">view_scores</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    查看学生全部成绩</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 各课程成绩为：&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> year, exams <span class="keyword">in</span> self.score.items():</span><br><span class="line">        <span class="keyword">for</span> exam <span class="keyword">in</span> exams:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;课程：<span class="subst">&#123;exam[<span class="number">0</span>]&#125;</span>，成绩：<span class="subst">&#123;exam[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">view_score</span>(<span class="params">self, test_name</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    查看学生特定课程成绩</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> year, exams <span class="keyword">in</span> self.score.items():</span><br><span class="line">        <span class="keyword">for</span> exam <span class="keyword">in</span> exams:</span><br><span class="line">            <span class="keyword">if</span> exam[<span class="number">0</span>] == test_name:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 课程 <span class="subst">&#123;test_name&#125;</span> 的成绩为 <span class="subst">&#123;exam[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;学生 <span class="subst">&#123;self.name&#125;</span> 未参加 <span class="subst">&#123;test_name&#125;</span> 考试&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建学生并为学生注册</span></span><br><span class="line">class_code = &#123;<span class="string">&quot;数学&quot;</span>:<span class="number">18</span>, <span class="string">&quot;计算机科学&quot;</span>:<span class="number">19</span>, <span class="string">&quot;软件工程&quot;</span>:<span class="number">20</span>&#125; <span class="comment">#班级编号，学号体现班级信息</span></span><br><span class="line"><span class="keyword">for</span> class_name_ <span class="keyword">in</span> <span class="built_in">list</span>(university.classes.keys()):</span><br><span class="line">    <span class="comment">#每个班级100~200个学生</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(random.randint(<span class="number">100</span>,<span class="number">200</span>)):</span><br><span class="line">        student = Student(<span class="string">f&quot;<span class="subst">&#123;class_name_&#125;</span>学生<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>&quot;</span>, <span class="string">f&quot;24<span class="subst">&#123;class_code[class_name_]:02&#125;</span><span class="subst">&#123;i:04&#125;</span>&quot;</span>, class_name_)</span><br><span class="line">        student.register()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">要通过学号访问学生，我们用字典来实现：学生学号到学生对象的映射</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">students_by_id = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> class_name <span class="keyword">in</span> university.classes:</span><br><span class="line">    <span class="keyword">for</span> student <span class="keyword">in</span> university.classes[class_name].students:</span><br><span class="line">        students_by_id[student.student_id] = student</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">dic_test_name = &#123;</span><br><span class="line">    <span class="string">&quot;数学&quot;</span>:</span><br><span class="line">    [</span><br><span class="line">    <span class="string">&quot;高等代数&quot;</span>, <span class="string">&quot;离散数学&quot;</span>, <span class="string">&quot;概率论&quot;</span>,<span class="string">&quot;常微分方程&quot;</span>, <span class="string">&quot;金融数学&quot;</span>,<span class="string">&quot;拓扑学&quot;</span>,<span class="string">&quot;遍历论&quot;</span>\</span><br><span class="line">    <span class="string">&quot;解析几何&quot;</span>, <span class="string">&quot;数学分析&quot;</span>, <span class="string">&quot;抽象代数&quot;</span>, <span class="string">&quot;数学模型&quot;</span>, <span class="string">&quot;数理方程&quot;</span>, <span class="string">&quot;微分几何&quot;</span>,<span class="string">&quot;数理统计&quot;</span>\</span><br><span class="line">    <span class="string">&quot;微分方程数值解&quot;</span>, <span class="string">&quot;实变函数&quot;</span>, <span class="string">&quot;复变函数&quot;</span>, <span class="string">&quot;泛函分析&quot;</span>, <span class="string">&quot;随机过程&quot;</span>,<span class="string">&quot;数学物理&quot;</span></span><br><span class="line">    ]</span><br><span class="line">    ,</span><br><span class="line">    <span class="string">&quot;计算机科学&quot;</span>:</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&quot;计算机科学导论&quot;</span>, <span class="string">&quot;程序设计&quot;</span>, <span class="string">&quot;离散数学&quot;</span>, <span class="string">&quot;线性代数&quot;</span>, <span class="string">&quot;微积分&quot;</span>,<span class="string">&quot;神经网络&quot;</span>,<span class="string">&quot;网页设计&quot;</span>\</span><br><span class="line">        <span class="string">&quot;数据结构与算法&quot;</span>, <span class="string">&quot;计算机原理&quot;</span>, <span class="string">&quot;操作系统&quot;</span>, <span class="string">&quot;数据库原理&quot;</span>, <span class="string">&quot;计算机网络&quot;</span>,<span class="string">&quot;网络安全&quot;</span>,<span class="string">&quot;Web开发&quot;</span>\</span><br><span class="line">        <span class="string">&quot;面向对象程序设计&quot;</span>,<span class="string">&quot;编译原理&quot;</span>, <span class="string">&quot;机器学习&quot;</span>, <span class="string">&quot;计算机图像处理&quot;</span>, <span class="string">&quot;自然语言处理&quot;</span>,<span class="string">&quot;深度学习&quot;</span></span><br><span class="line">    ]</span><br><span class="line">    ,</span><br><span class="line">    <span class="string">&quot;软件工程&quot;</span>:</span><br><span class="line">    [</span><br><span class="line">        <span class="string">&quot;软件工程导论&quot;</span>, <span class="string">&quot;程序设计&quot;</span>, <span class="string">&quot;离散数学&quot;</span>, <span class="string">&quot;线性代数&quot;</span>, <span class="string">&quot;微积分&quot;</span>,<span class="string">&quot;网页设计&quot;</span>,<span class="string">&quot;操作系统&quot;</span>\</span><br><span class="line">        <span class="string">&quot;面向对象程序设计&quot;</span>, <span class="string">&quot;软件需求工程&quot;</span>, <span class="string">&quot;软件设计&quot;</span>, <span class="string">&quot;数据库原理&quot;</span>, <span class="string">&quot;电子基础&quot;</span>,<span class="string">&quot;电子进阶&quot;</span>\</span><br><span class="line">        <span class="string">&quot;软件项目管理&quot;</span>, <span class="string">&quot;软件体系结构&quot;</span>, <span class="string">&quot;Web开发技术&quot;</span>, <span class="string">&quot;软件工程案例分析&quot;</span>,<span class="string">&quot;工程实践&quot;</span>,<span class="string">&quot;软件测试&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 学生参加考试</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">&quot;计算机科学&quot;</span>,<span class="string">&quot;软件工程&quot;</span>,<span class="string">&quot;数学&quot;</span>]:</span><br><span class="line">    <span class="keyword">for</span> student <span class="keyword">in</span> university.classes[i].students:</span><br><span class="line">        exam_count = <span class="number">0</span></span><br><span class="line">        exam_list = []</span><br><span class="line">        <span class="keyword">for</span> year <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">            <span class="comment"># 每年参加的考试数量为2~5的随机数</span></span><br><span class="line">            num_exams = random.randint(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(num_exams):</span><br><span class="line">                <span class="comment"># 生成考试名称，不重复</span></span><br><span class="line">                exam_name = random.choice(dic_test_name[i])</span><br><span class="line">                <span class="keyword">while</span> exam_name <span class="keyword">in</span> exam_list:</span><br><span class="line">                    exam_name = random.choice(dic_test_name[i])</span><br><span class="line">                <span class="comment"># 生成考试成绩</span></span><br><span class="line">                score = random.randint(<span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line">                <span class="comment"># 学生参加考试</span></span><br><span class="line">                student.take_exam(year, exam_name, score)</span><br><span class="line">                exam_count += <span class="number">1</span></span><br><span class="line">                exam_list.append(exam_name)</span><br></pre></td></tr></table></figure>

<h2 id="利用字典通过学号对应学生-再利用view-score查看成绩"><a href="#利用字典通过学号对应学生-再利用view-score查看成绩" class="headerlink" title="利用字典通过学号对应学生,再利用view_score查看成绩"></a>利用字典通过学号对应学生,再利用view_score查看成绩</h2><p>基本实现：{对已有的学生，实现字典功能，能用类似”小明[‘泛函分析’]”的语法得到或者设置成绩}</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">student_3 = students_by_id[<span class="string">&quot;24200003&quot;</span>]</span><br><span class="line"><span class="comment">#student_3.view_scores()</span></span><br><span class="line">student_3.view_score(<span class="string">&quot;离散数学&quot;</span>)</span><br><span class="line">student_3.view_score(<span class="string">&quot;高等代数&quot;</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">结果</span></span><br><span class="line"><span class="string">学生 软件工程学生4 课程 离散数学 的成绩为 4</span></span><br><span class="line"><span class="string">学生 软件工程学生4 未参加 高等代数 考试</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://peven-shyu.github.io/2024/04/27/studen_class/" data-id="clvhsqt7g00004kp2ega30d9i" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2024/04/26/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/04/27/studen_class/">(no title)</a>
          </li>
        
          <li>
            <a href="/2024/04/26/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Peiwen<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>